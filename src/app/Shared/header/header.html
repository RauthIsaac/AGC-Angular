<!-- header.html - Complete Updated Template with Navbar Collapse -->
<header [class.rtl]="isRTL" [class.ltr]="!isRTL">
    <app-loading *ngIf="isLoading"></app-loading>

    <!-- Header content when data is available -->
    <div *ngIf="hasSiteData() || !isLoading">
        <div class="info">
            <div class="container d-flex justify-content-between align-items-center"> 
                <div class="d-flex" [style.flex-direction]="isRTL ? 'row-reverse' : 'row'">
                    <a class="cont-div d-flex" [ngClass]="isRTL ? 'ms-3' : 'me-3'">
                        <i class="bi bi-telephone mx-2"></i>
                        <span>{{ getPhoneNumber() }}</span>
                    </a>
                    <a class="cont-div d-flex" href="mailto:{{ getHeaderEmail() }}" [ngClass]="isRTL ? 'ms-3' : 'me-3'">
                        <i class="bi bi-envelope mx-2"></i>
                        <span>{{ getHeaderEmail() }}</span>
                    </a>
                </div>

                <div class="d-flex align-items-center" [style.flex-direction]="isRTL ? 'row-reverse' : 'row'">
                    <!-- <span [ngClass]="isRTL ? 'ms-4' : 'me-4'">
                        {{ getTagline() }}
                    </span>
                     -->
                    <div class="btn-group">
                        <button type="button" class="lang-btn">
                            <i class="bi bi-globe2 me-1"></i> 
                             {{ currentLanguageName }}
                        </button>
                        <button type="button" class="lang-btn dropdown-toggle dropdown-toggle-split" 
                                data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="visually-hidden">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu" [class.dropdown-menu-end]="isRTL">
                            <li>
                                <a class="dropdown-item" 
                                   [class.active]="currentLanguage === 'en'"
                                   (click)="switchToLanguage('en')"
                                   style="cursor: pointer;">
                                   English
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" 
                                   [class.active]="currentLanguage === 'ar'"
                                   (click)="switchToLanguage('ar')"
                                   style="cursor: pointer;">
                                   العربية
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <nav>
            <div class="container">
                <!-- Logo and hamburger menu container -->
                <div class="d-flex w-100 justify-content-between align-items-center"
                     [style.flex-direction]="isRTL ? 'row-reverse' : 'row'">
                    
                    <!-- Logo section -->
                    <div class="logo d-flex align-items-center" [style.flex-direction]="isRTL ? 'row-reverse' : 'row'">
                        <img [src]="getLogoUrl()" 
                             style="height: 50px; margin-bottom: 10px;" 
                             alt="Company Logo">
                             
                        <div class="d-flex flex-column" [ngClass]="isRTL ? 'me-3' : 'ms-3'">
                            <h5 class="mb-1">{{ getCompanyName() }}</h5>
                            <p class="text-muted mb-0 small">
                                {{ getDistributorText() }}
                            </p>
                        </div>
                    </div>
                    
                    <!-- Navbar toggler button (visible on medium and small screens) -->
                    <button class="navbar-toggler" 
                            type="button" 
                            data-bs-toggle="collapse" 
                            data-bs-target="#navbarNav" 
                            aria-controls="navbarNav" 
                            aria-expanded="false" 
                            aria-label="Toggle navigation"
                            (click)="toggleNavbar()">
                        <span class="navbar-toggler-icon">
                            <span></span>
                            <span></span>
                            <span></span>
                        </span>
                    </button>
                    
                    <!-- Desktop navigation (visible on large screens) -->
                    <ul class="nav d-none d-xl-flex" [style.flex-direction]="isRTL ? 'row-reverse' : 'row'">
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('home')"
                               (click)="navigateToSection('home')" 
                               style="cursor: pointer;">
                               {{ getHome() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('news')"
                               (click)="navigateToSection('news')" 
                               style="cursor: pointer;">
                               {{ getNews() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('products')"
                               (click)="navigateToSection('products')" 
                               style="cursor: pointer;">
                               {{ getProducts() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('clients')"
                               (click)="navigateToSection('clients')" 
                               style="cursor: pointer;">
                               {{ getClients() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('about')"
                               (click)="navigateToSection('about')" 
                               style="cursor: pointer;">
                               {{ getAbout() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('contact')"
                               (click)="navigateToSection('contact')" 
                               style="cursor: pointer;">
                               {{ getContact() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isLoginActive()"
                               routerLink="/login"
                               style="cursor: pointer;">
                               {{ getLogin() }}
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Collapsible navigation (visible on medium and small screens) -->
                <div class="navbar-collapse collapse d-xl-none" 
                     id="navbarNav" 
                     [class.show]="isNavbarOpen">
                    <ul class="nav" [style.flex-direction]="isRTL ? 'column-reverse' : 'column'">
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('home')"
                               (click)="navigateToSection('home'); closeNavbar()" 
                               style="cursor: pointer;">
                               {{ getHome() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('news')"
                               (click)="navigateToSection('news'); closeNavbar()" 
                               style="cursor: pointer;">
                               {{ getNews() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('products')"
                               (click)="navigateToSection('products'); closeNavbar()" 
                               style="cursor: pointer;">
                               {{ getProducts() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('clients')"
                               (click)="navigateToSection('clients'); closeNavbar()" 
                               style="cursor: pointer;">
                               {{ getClients() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('about')"
                               (click)="navigateToSection('about'); closeNavbar()" 
                               style="cursor: pointer;">
                               {{ getAbout() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isActive('contact')"
                               (click)="navigateToSection('contact'); closeNavbar()" 
                               style="cursor: pointer;">
                               {{ getContact() }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" 
                               [class.active]="isLoginActive()"
                               routerLink="/login"
                               (click)="closeNavbar()"
                               style="cursor: pointer;">
                               {{ getLogin() }}
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</header>